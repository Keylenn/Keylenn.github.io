---
title: 从DOCTYPE到浏览器的基本工作原理
date: 2019-03-13 16:15:07
tags: 文档声明 浏览器
---

# 从DOCTYPE到浏览器的基本工作原理
## DOCTYPE是什么玩意
html是描述的页面结构，一个html文件一般包含两个板块，一个是文档声明，另一个就是各式各样的标签了。
这里的文档声明就是DOCTYPE。下面介绍一下作为一个前端应该知道的文档声明的基本知识，深入学习请自行查阅相关文档。
>* DOCTYPE是文档声明，告知浏览器以何种模式来渲染文档
>* DOCTYPE不存在或格式不正确会导致文档以混杂模式呈现,在混杂模式中，页面以宽松的向后兼容的方式显示。
>* 对大小写不敏感，必须是 HTML 文档的第一行，位于 <html> 标签之前
>* 在 HTML 4.01 中有三种 <!DOCTYPE> 声明，<!DOCTYPE> 声明引用 DTD，因为 HTML 4.01 基于 SGML。DTD 规定了标记语言的规则，这样浏览器才能正确地呈现内容。
>* 在 HTML5 中只有一种声明 ```<!DOCTYPE html>```，大多数时候的，我们在开发中可以直接使用这种声明

## 浏览器的基本工作原理
我们知道DOCTYPE是用来告知浏览器以何种的方式来渲染文档，我们可以得知，浏览器在请求得到的html资源后到渲染到屏幕上是做了很多的努力的，作为一名前端，不管是从开发角度考虑，还是从人道角度考虑（毕竟人家浏览器开发工程师那么努力，特别是优秀的v8），我们都应该学习浏览器的基本工作原理，因为浏览器就像你的伴侣，你不了解她，会吃大亏的！接下来我将结合winter大大地重学前端这门课（墙裂推荐）和平时自己的学习总结，整理浏览器的工作原理的系列文章。
下面通过一道经典面试题展开————**从输入URL到页面加载发生了什么**
带着问题学习，让我们了解一下浏览器工作的大概过程。

1. 是否符合浏览器的缓存策略---[浏览器的缓存机制](./2019/03/14/browser/principle/浏览器缓存机制/)
2. 若没有缓存，将域名解析成对应的ip地址---DNS解析
3. 浏览器使用http(s)协议向服务端请求页面---HTTP协议
4. 解析HTML构建DOM树，解析css文件生成CSSOM，执行js，结合DOM树和CSSOM，生成render Tree---HTML解析、计算CSS属性、JS执行机制
5. 计算渲染对象的位置和大小并逐个渲染，得到内存中的位图----布局，回流
6. 对位图进行合成（可选步骤），将渲染对象呈现在屏幕上----绘制，重绘

理解以上的过程，一定能让你充分理解你的浏览器伴侣。接下来将我个人学习的笔记进行整理，结合网上优秀的文章，采用（是什么-为什么-怎么用的思路模式）详解每一部分的内容。
